# Compiling Time: 0.03 SBU
# Maintainer: Anthony Jorion <pingax@frugalware.org>
# Contributor: AlexExtreme <alex@alex-smith.me.uk>

options+=('asneeded')

pkgname=libvncserver
_F_sourceforge_name="LibVNCServer"
pkgver=0.9.9
pkgrel=4
pkgdesc="Library to create custom VNC servers"
depends=('zlib' 'libjpeg>=8a' 'sdl' 'libx11' 'libxext' 'libxinerama' 'libxrandr' 'libxtrap' 'libxtst' 'libxfixes' 'libxdamage' 'inputproto' 'libgcrypt>=1.6.1' 'openssl')
groups=('xlib')
archs=('i686' 'x86_64')
Finclude sourceforge
sha1sums=('2004c6ae493baeff3da40b61e0a0f73c83182dad')
_F_cd_path="LibVNCServer-$pkgver"


# FSA fix ***
source=(${source[@]} CVE-2014-6055-1.patch CVE-2014-6055-2.patch CVE-2014-6055-3.patch
                     CVE-2014-6055-4.patch
                     CVE-2014-6051.patch CVE-2014-6052-1.patch CVE-2014-6053.patch
                     CVE-2014-6054.patch)
sha1sums=(${sha1sums[@]} '6556f54772be512f25082d814cdbd2a516aea183' \
                         '5bee319759cebc95f8daad67e35277bcf83f5eb9' \
                         '9ada7b3f4caaeba3b989e1725932826e1e3b0a13' \
                         '359ee8d6ba8f187e586ee881558e8ef78bfc470b' \
                         '3fc24b2f878d48f8aef91c3ecae1a7c1f9dec343' \
                         'cd204d923028be0ac3c4f0f93501143aa55b4fd2' \
                         '664e92d306b8597a8b5a78bfa35c28065c19af54' \
                         '78c6c8969b8c800b515d3c90339f293b6d3eab21')
# ***********


build()
{
	Fbuild

	# We don't want x11vnc here...
	Frm /usr/man
	Frm /usr/bin/x11vnc
}

# optimization OK
