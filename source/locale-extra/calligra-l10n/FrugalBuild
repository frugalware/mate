# Compiling Time: 2.44 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=calligra-l10n
pkgver=2.8.6
pkgrel=1
pkgdesc="Dummy package."
url="http://www.calligra-suite.org"
Finclude kde i18n
depends=()
makedepends=("${makedepends[@]}" "kdelibs>=$_F_kde_ver" "kdelibs-compiletime>=$_F_kde_ver")
groups=('locale-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-latest | grep 'tar' | sed -n 's/.*calligra-\(.*\).tar.xz.*/\1/;1p'"
source=()
subpkgs=()
sha1sums=('42845f439487a6b9a211b6b9b78551785cb9bc3b' \
          'e91e026ae6fc05666b91a8b0a5857b4567ee1655' \
          'ff02ae3a99ed115f5db1f6e4238ca1ecb43f673b' \
          'c800b169fb9669d9b65afc59148a7cb957a4be06' \
          '6e4ed6033b725c7cafb1d27125633859e5979d75' \
          'abb7b394a10f1db1e0247bd77e2ac4936edbadc9' \
          '1a3a9d6831b68beff2565e35ae35de411e463d14' \
          '2d02d825745894545b953b9b9fa5da6930953ccc' \
          '0365fb9f2e5af6f085bb8be8a20530bd65b3c533' \
          'a29141b97583c53fbd157aeaa7fbe7c374e81015' \
          'd3a70abcf0912c8f7843a9d62d831b0f8c9a66b9' \
          '46bf4611e8403bd9aa3569789fc089a7ffb26ec3' \
          'b1f58767e52b6db6a23a641a193adb4eb8b5bca2' \
          'd539f542bd769b3c1f8809d1575572379c0c99cb' \
          '701bfc1ced9a2b2049760cbd3830f9d8e32c37e6' \
          'e2bdb789d01d71b6d33da54b874e372156480db3' \
          '06a1abd399f9f36eacfca2c13ddc4c7dfc829787' \
          '5256e84cc7942d1a4916726a5a5a4fb2ee71ffad' \
          '7ab13165b9a28f70ae9edb04b58b637aa20fbb1d' \
          '5229a266da63b637d4be762406b1aa2a5ede1b81' \
          'de6409d5a3eed8035888e1ce11c71e92de5eb730' \
          '5b00c1a3730cea5abb4ddb9b3657d5ff1a28e3db' \
          '7b801b55255459a967da935e2330d3302bf58b08' \
          'd8b8c2abf8e7b6e53e2c8f6c7e256a8452deecf0' \
          '8f6d3d6f985c46ee1a0cba1ebaa8cfe6ac470839' \
          'c2b2c0c1d707030ee2d6de6e944f50816a9e206e' \
          'bf4680d1dd414a6dbdfb81bb551082b16336193e' \
          '98f43eb5d34af9a4c2283266cc5c97dcee27d07b' \
          '27ad3a1ae4c03afc2fac4947c9035288b6761b69' \
          '441c0f2f22c85e429b546b87072d3121be379b9f')

## this part is almost the same of kde-l10n
kde_l10n_language_from_tag() {
	local lang
	case $1 in
	'be@latin')	lang='Belarusian (Latin)';;
	'bn_IN')	lang='Bengali (India)';;
	'ca@valencia')	lang='Catalan (Valencian)';;
	'en_GB')	lang='British';;
	'pt_BR')	lang='Brazilian';;
	'sr@ijekavian')	lang='Serbian (Ijekavian)';;
        'sr@ijekavianlatin')	lang='Serbian (Ijekavian Latin)';;
        'sr@latin')	lang='Serbian (Latin)';;
	'uz@cyrillic')	lang='Uzbek (Cyrillic)';;
	'zh_CN')	lang='Chinese Simplified';;
	'zh_HK')	lang='Chinese Hong Kong';;
	'zh_TW')	lang='Chinese Traditional';;
	*)	lang=`i18n_language_from_subtag "$1"`
	esac
	echo "$lang"
}

kde_l10n_lang_add() {
	klangs+=("$1")
	source+=("$_F_kde_mirror/$_F_kde_folder/calligra-$pkgver/$pkgname/$pkgname-$1-$pkgver.tar.xz")
	subpkgs+=("$pkgname-`Flowerstr "$1"`")
        subdescs+=("`kde_l10n_language_from_tag $1` localization for Calligra.")
        subdepends+=('')
        subgroups+=("locale-extra")
        subarchs+=("i686 x86_64")
}

build()
{
        for ksub in "${klangs[@]}"
        do
		echo $ksub
                cd "$Fsrcdir/$pkgname-$ksub-$pkgver"
                ksub=`Flowerstr "$ksub"`
                KDE_build
                Fsplit $pkgname-$ksub  /usr
        done
}

## generate this with something like
## for i in $(lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-2.8.5/calligra-l10n/ | sed -n "s/.*calligra-l10n-\(.*\)-.*.tar.xz$/\1/p");do echo kde_l10n_lang_add \"$i\" >> FrugalBuild;done
kde_l10n_lang_add "bs"
kde_l10n_lang_add "ca"
kde_l10n_lang_add "ca@valencia"
kde_l10n_lang_add "cs"
kde_l10n_lang_add "da"
kde_l10n_lang_add "de"
kde_l10n_lang_add "el"
kde_l10n_lang_add "en_GB"
kde_l10n_lang_add "es"
kde_l10n_lang_add "et"
kde_l10n_lang_add "eu"
kde_l10n_lang_add "fi"
kde_l10n_lang_add "fr"
kde_l10n_lang_add "gl"
kde_l10n_lang_add "hu"
kde_l10n_lang_add "it"
kde_l10n_lang_add "ja"
kde_l10n_lang_add "kk"
kde_l10n_lang_add "nb"
kde_l10n_lang_add "nds"
kde_l10n_lang_add "nl"
kde_l10n_lang_add "pl"
kde_l10n_lang_add "pt"
kde_l10n_lang_add "pt_BR"
kde_l10n_lang_add "ru"
kde_l10n_lang_add "sk"
kde_l10n_lang_add "sv"
kde_l10n_lang_add "uk"
kde_l10n_lang_add "zh_CN"
kde_l10n_lang_add "zh_TW"
